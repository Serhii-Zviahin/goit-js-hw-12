import{S as $,i as c,a as I}from"./assets/vendor-xwsNXkQR.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();const p=document.querySelector(".loader"),h=document.querySelector(".gallery"),O=new $(".gallery-link",{captionsData:"alt",captionPosition:"bottom",captionDelay:250}),y=document.querySelector(".js-load-more");function b(s){const t=s.map(({webformatURL:r,largeImageURL:n,tags:e,likes:o,views:i,comments:M,downloads:P})=>`
    <li class="gallery-item">
        <a class="gallery-link" href="${n}">
            <img class="gallery-image" src="${r}" alt="${e}" />
        </a>
        <div class="gallery-image-data">
            <p class="data-text"><span class="bold">Likes</span> ${o}</p>
            <p class="data-text"><span class="bold">Views</span> ${i}</p>
            <p class="data-text"><span class="bold">Comments</span> ${M}</p>
            <p class="data-text"><span class="bold">Downloads</span> ${P}</p>
        </div>
    </li>`).join("");h.insertAdjacentHTML("beforeend",t),O.refresh()}function L(){c.show({title:"Sorry",message:", there are no images matching your search query. Please try again!",position:"topRight",messageColor:"#fffc3aff",backgroundColor:"#ec3939"})}function R(){h.innerHTML=""}function w(){p.classList.remove("hidden")}function l(){p.classList.add("hidden")}function S(){y.classList.remove("hidden")}function g(){y.classList.add("hidden")}function v(){c.show({message:"We're sorry, but you've reached the end of search results",position:"topRight",messageColor:"#fffc3aff",backgroundColor:"#394becb4"})}function k(){c.show({message:"Input field is empty",position:"topRight",messageColor:"#fffc3aff",backgroundColor:"#ec3939"})}function q(){c.error({message:"Sorry, something went wrong. Please try again!",position:"topRight"})}const B="https://pixabay.com/api/",E="52805725-7d516d36c1804a9cebba9806b",C=15;async function x(s,t=1){try{const r=await I(B,{params:{key:E,q:s,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:C}});return r.data.hits.length>0?r.data:(L(),[])}catch(r){c.show({message:r.message,position:"topRight",messageColor:"#fffc3aff",backgroundColor:"#ec3939"})}}const u=document.querySelector(".form"),N=u.querySelector('input[name="search-text"]');u.addEventListener("submit",j);const f=document.querySelector(".js-load-more");f.addEventListener("click",D);g();let a,d,m;async function j(s){if(s.preventDefault(),R(),w(),g(),a=31,d=N.value,!d.trim().length){k(),l(),u.reset();return}try{const t=await x(d,a);if(l(),!t.totalHits){L();return}if(m=Math.ceil(t.totalHits/C),b(t.hits),u.reset(),a>=m){v();return}S()}catch{q()}finally{l()}}async function D(){a++,f.disabled=!0;try{w();const s=await x(d,a);if(b(s.hits),a>=m){v(),g();return}S();const n=document.querySelector(".gallery-item").getBoundingClientRect().height;window.scrollBy({top:n*2,behavior:"smooth"})}catch{a--,q()}finally{f.disabled=!1,l()}}
//# sourceMappingURL=index.js.map
