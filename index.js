import{S as x,i as n,a as I}from"./assets/vendor-xwsNXkQR.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();const p=document.querySelector(".loader"),h=document.querySelector(".gallery"),M=new x(".gallery-link",{captionsData:"alt",captionPosition:"bottom",captionDelay:250}),y=document.querySelector(".js-load-more");function b(s){const t=s.map(({webformatURL:a,largeImageURL:i,tags:e,likes:o,views:c,comments:q,downloads:v})=>`
    <li class="gallery-item">
        <a class="gallery-link" href="${i}">
            <img class="gallery-image" src="${a}" alt="${e}" />
        </a>
        <div class="gallery-image-data">
            <p class="data-text"><span class="bold">Likes</span> ${o}</p>
            <p class="data-text"><span class="bold">Views</span> ${c}</p>
            <p class="data-text"><span class="bold">Comments</span> ${q}</p>
            <p class="data-text"><span class="bold">Downloads</span> ${v}</p>
        </div>
    </li>`).join("");h.insertAdjacentHTML("beforeend",t),M.refresh()}function P(){n.show({title:"Sorry",message:", there are no images matching your search query. Please try again!",position:"topRight",messageColor:"#fffc3aff",backgroundColor:"#ec3939"})}function $(){h.innerHTML=""}function L(){p.classList.remove("hidden")}function u(){p.classList.add("hidden")}function R(){y.classList.remove("hidden")}function d(){y.classList.add("hidden")}function w(){n.show({message:"We're sorry, but you've reached the end of search results",position:"topRight",messageColor:"#fffc3aff",backgroundColor:"#394becb4"})}function k(){n.show({message:"Image not found",position:"topRight",messageColor:"#fffc3aff",backgroundColor:"#ec3939"})}function N(){n.show({message:"Input field is empty",position:"topRight",messageColor:"#fffc3aff",backgroundColor:"#ec3939"})}function S(){n.error({message:"Sorry, something went wrong. Please try again!",position:"topRight"})}const O="https://pixabay.com/api/",B="52805725-7d516d36c1804a9cebba9806b",f=15;async function C(s,t=1){try{const a=await I(O,{params:{key:B,q:s,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:f}});return a.data.hits.length>0?a.data:(P(),[])}catch(a){n.show({message:a.message,position:"topRight",messageColor:"#fffc3aff",backgroundColor:"#ec3939"})}}const m=document.querySelector(".form"),E=m.querySelector('input[name="search-text"]');m.addEventListener("submit",j);const g=document.querySelector(".js-load-more");g.addEventListener("click",D);d();let r,l;async function j(s){if(s.preventDefault(),$(),L(),d(),r=1,l=E.value,!l.trim().length){N(),u(),m.reset();return}try{const t=await C(l,r);t.hits.length>0?(b(t.hits),R()):k(),(t.hits.length<f||t.totalHits<f)&&(d(),w())}catch{S(),s.target.reset()}finally{u()}}async function D(){r++,g.disabled=!0;try{L();const s=await C(l,r);b(s.hits);const t=Math.ceil(s.totalHits/f);r>=t&&(d(),w());const e=document.querySelector(".gallery-item").getBoundingClientRect().height;window.scrollBy({top:e*2,behavior:"smooth"})}catch{r--,S()}finally{g.disabled=!1,u()}}
//# sourceMappingURL=index.js.map
